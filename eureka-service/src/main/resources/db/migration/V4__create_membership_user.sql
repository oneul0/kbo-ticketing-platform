CREATE TABLE baseball.p_membership_user
(
    id            bigint auto_increment,
    user_id       bigint               not null,
    membership_id bigint               not null,
    is_active     boolean default true not null,
    is_deleted    boolean default false not null,
    deleted_by    bigint               null,
    deleted_at    datetime             null,
    created_by    bigint               null,
    created_at    datetime             null,
    updated_by    bigint               null,
    updated_at    datetime             null,
    season        year                 not null,
    PRIMARY KEY (id, season),
    CONSTRAINT uk_user_season UNIQUE (user_id, season)
) default character set utf8mb4
    PARTITION BY LIST (season) (
    PARTITION p1995 VALUES IN (1995),
    PARTITION p1996 VALUES IN (1996),
    PARTITION p1997 VALUES IN (1997),
    PARTITION p1998 VALUES IN (1998),
    PARTITION p1999 VALUES IN (1999),
    PARTITION p2000 VALUES IN (2000),
    PARTITION p2001 VALUES IN (2001),
    PARTITION p2002 VALUES IN (2002),
    PARTITION p2003 VALUES IN (2003),
    PARTITION p2004 VALUES IN (2004),
    PARTITION p2005 VALUES IN (2005),
    PARTITION p2006 VALUES IN (2006),
    PARTITION p2007 VALUES IN (2007),
    PARTITION p2008 VALUES IN (2008),
    PARTITION p2009 VALUES IN (2009),
    PARTITION p2010 VALUES IN (2010),
    PARTITION p2011 VALUES IN (2011),
    PARTITION p2012 VALUES IN (2012),
    PARTITION p2013 VALUES IN (2013),
    PARTITION p2014 VALUES IN (2014),
    PARTITION p2015 VALUES IN (2015),
    PARTITION p2016 VALUES IN (2016),
    PARTITION p2017 VALUES IN (2017),
    PARTITION p2018 VALUES IN (2018),
    PARTITION p2019 VALUES IN (2019),
    PARTITION p2020 VALUES IN (2020),
    PARTITION p2021 VALUES IN (2021),
    PARTITION p2022 VALUES IN (2022),
    PARTITION p2023 VALUES IN (2023),
    PARTITION p2024 VALUES IN (2024),
    PARTITION p2025 VALUES IN (2025),
    PARTITION p2026 VALUES IN (2026),
    PARTITION p2027 VALUES IN (2027),
    PARTITION p2028 VALUES IN (2028),
    PARTITION p2029 VALUES IN (2029),
    PARTITION p2030 VALUES IN (2030)
);